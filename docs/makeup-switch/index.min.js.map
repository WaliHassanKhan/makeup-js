{"version":3,"file":"makeup-switch/index.min.js","mappings":"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","sources":["webpack://root/./node_modules/@ebay/skin/switch.js","webpack://root/./packages/makeup-switch/dist/mjs/index.js","webpack://root/webpack/bootstrap","webpack://root/webpack/runtime/define property getters","webpack://root/webpack/runtime/hasOwnProperty shorthand","webpack://root/webpack/runtime/make namespace object","webpack://root/./docs/makeup-switch/index.compiled.js"],"sourcesContent":["require('./dist/switch/ds6/switch.css');\n","const defaultOptions = {\n  bem: {\n    control: \"switch__control\"\n  },\n  customElementMode: false\n};\nclass src_default {\n  constructor(el, selectedOptions) {\n    this._options = Object.assign({}, defaultOptions, selectedOptions);\n    this.el = el;\n    this._onClickListener = _onClick.bind(this);\n    this._onKeyDownListener = _onKeyDown.bind(this);\n    this._onMutationListener = _onMutation.bind(this);\n    if (this.disabled) {\n      this._focusableElement.setAttribute(\"tabindex\", \"-1\");\n    }\n    this.el.classList.add(\"switch--js\");\n    if (!this._options.customElementMode) {\n      this._mutationObserver = new MutationObserver(this._onMutationListener);\n      this._observeMutations();\n      this._observeEvents();\n    }\n  }\n  _observeMutations() {\n    if (!this._options.customElementMode) {\n      this._mutationObserver.observe(this._focusableElement, {\n        attributes: true,\n        childList: false,\n        subtree: false\n      });\n    }\n  }\n  _unobserveMutations() {\n    if (!this._options.customElementMode) {\n      this._mutationObserver.disconnect();\n    }\n  }\n  _observeEvents() {\n    this._focusableElement.addEventListener(\"click\", this._onClickListener);\n    this._focusableElement.addEventListener(\"keydown\", this._onKeyDownListener);\n  }\n  _unobserveEvents() {\n    this._focusableElement.removeEventListener(\"click\", this._onClickListener);\n    this._focusableElement.removeEventListener(\"keydown\", this._onKeyDownListener);\n  }\n  get _focusableElement() {\n    return this.el.querySelector(`.${this._options.bem.control}`);\n  }\n  set checked(isChecked) {\n    this._unobserveMutations();\n    this._focusableElement.setAttribute(\"aria-checked\", isChecked.toString());\n    this.el.dispatchEvent(new CustomEvent(\"makeup-switch-toggle\", {\n      composed: true,\n      detail: {\n        on: this.checked\n      }\n    }));\n    this._observeMutations();\n  }\n  get checked() {\n    return this._focusableElement.getAttribute(\"aria-checked\") === \"true\";\n  }\n  set disabled(isDisabled) {\n    this._unobserveMutations();\n    this._focusableElement.setAttribute(\"aria-disabled\", isDisabled.toString());\n    this._focusableElement.setAttribute(\"tabindex\", isDisabled ? \"-1\" : \"0\");\n    this._observeMutations();\n  }\n  get disabled() {\n    return this._focusableElement.getAttribute(\"aria-disabled\") === \"true\";\n  }\n  set labelledby(theId) {\n    this._unobserveMutations();\n    this._focusableElement.setAttribute(\"aria-labelledby\", theId);\n    if (this._options.customElementMode) {\n      const labellingEl = document.getElementById(this.labelledby);\n      if (labellingEl && labellingEl.innerText !== \"\") {\n        this.label = labellingEl.innerText;\n      }\n    }\n    this._observeMutations();\n  }\n  get labelledby() {\n    return this._focusableElement.getAttribute(\"aria-labelledby\");\n  }\n  get label() {\n    return this._focusableElement.getAttribute(\"aria-label\");\n  }\n  set label(theLabel) {\n    this._unobserveMutations();\n    this._focusableElement.setAttribute(\"aria-label\", theLabel);\n    this._observeMutations();\n  }\n  toggle() {\n    this.checked = !this.checked;\n  }\n  destroy() {\n    this._unobserveMutations();\n    this._unobserveEvents();\n    this._onClickListener = null;\n    this._onKeyDownListener = null;\n    this._onMutationListener = null;\n  }\n}\nfunction _onKeyDown(e) {\n  if (!this.disabled) {\n    switch (e.keyCode) {\n      case 32:\n        e.preventDefault();\n        this.toggle();\n        break;\n      case 37:\n        this.checked = false;\n        break;\n      case 39:\n        this.checked = true;\n        break;\n      default:\n        break;\n    }\n  }\n}\nfunction _onClick() {\n  if (!this.disabled) {\n    this.toggle();\n  }\n}\nfunction _onMutation(mutationsList) {\n  for (const mutation of mutationsList) {\n    if (mutation.type === \"attributes\") {\n      this.el.dispatchEvent(new CustomEvent(\"makeup-switch-mutation\", {\n        detail: {\n          attributeName: mutation.attributeName\n        }\n      }));\n    }\n  }\n}\nexport {\n  src_default as default\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\"use strict\";\n\nrequire(\"../docs.css\");\n\nrequire(\"@ebay/skin/switch\");\n\nvar _makeupSwitch = _interopRequireDefault(require(\"../../packages/makeup-switch\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// CJS\n//const MakeupSwitch = require('../../packages/makeup-switch').default;\n// MJS\nwindow.onload = function () {\n  document.querySelectorAll('.switch').forEach(function (el, i) {\n    var widget = new _makeupSwitch.default(el);\n    el.addEventListener('makeup-switch-toggle', function (e) {\n      console.log(e.type, e.detail);\n    });\n    el.addEventListener('makeup-switch-mutation', function (e) {\n      console.log(e.type, e.detail);\n    });\n  });\n};"],"names":["defaultOptions","bem","control","customElementMode","src_default","constructor","el","selectedOptions","this","_options","Object","assign","_onClickListener","_onClick","bind","_onKeyDownListener","_onKeyDown","_onMutationListener","_onMutation","disabled","_focusableElement","setAttribute","classList","add","_mutationObserver","MutationObserver","_observeMutations","_observeEvents","observe","attributes","childList","subtree","_unobserveMutations","disconnect","addEventListener","_unobserveEvents","removeEventListener","querySelector","isChecked","toString","dispatchEvent","CustomEvent","composed","detail","on","checked","getAttribute","isDisabled","theId","labellingEl","document","getElementById","labelledby","innerText","label","theLabel","toggle","destroy","e","keyCode","preventDefault","mutationsList","mutation","type","attributeName","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","key","o","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","_makeupSwitch","__esModule","default","window","onload","querySelectorAll","forEach","i","console","log"],"sourceRoot":""}