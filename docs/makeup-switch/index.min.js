!function(){var e={9628:function(e,t,s){s(6858)},2859:function(e,t,s){"use strict";s.r(t)},6858:function(e,t,s){"use strict";s.r(t)},3371:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});const i={bem:{control:"switch__control"},customElementMode:!1};class n{constructor(e,t){this._options=Object.assign({},i,t),this.el=e,this._onClickListener=r.bind(this),this._onKeyDownListener=o.bind(this),this._onMutationListener=l.bind(this),this.disabled&&this._focusableElement.setAttribute("tabindex","-1"),this.el.classList.add("switch--js"),this._options.customElementMode||(this._mutationObserver=new MutationObserver(this._onMutationListener),this._observeMutations(),this._observeEvents())}_observeMutations(){this._options.customElementMode||this._mutationObserver.observe(this._focusableElement,{attributes:!0,childList:!1,subtree:!1})}_unobserveMutations(){this._options.customElementMode||this._mutationObserver.disconnect()}_observeEvents(){this._focusableElement.addEventListener("click",this._onClickListener),this._focusableElement.addEventListener("keydown",this._onKeyDownListener)}_unobserveEvents(){this._focusableElement.removeEventListener("click",this._onClickListener),this._focusableElement.removeEventListener("keydown",this._onKeyDownListener)}get _focusableElement(){return this.el.querySelector(`.${this._options.bem.control}`)}set checked(e){this._unobserveMutations(),this._focusableElement.setAttribute("aria-checked",e.toString()),this.el.dispatchEvent(new CustomEvent("makeup-switch-toggle",{composed:!0,detail:{on:this.checked}})),this._observeMutations()}get checked(){return"true"===this._focusableElement.getAttribute("aria-checked")}set disabled(e){this._unobserveMutations(),this._focusableElement.setAttribute("aria-disabled",e.toString()),this._focusableElement.setAttribute("tabindex",e?"-1":"0"),this._observeMutations()}get disabled(){return"true"===this._focusableElement.getAttribute("aria-disabled")}set labelledby(e){if(this._unobserveMutations(),this._focusableElement.setAttribute("aria-labelledby",e),this._options.customElementMode){const e=document.getElementById(this.labelledby);e&&""!==e.innerText&&(this.label=e.innerText)}this._observeMutations()}get labelledby(){return this._focusableElement.getAttribute("aria-labelledby")}get label(){return this._focusableElement.getAttribute("aria-label")}set label(e){this._unobserveMutations(),this._focusableElement.setAttribute("aria-label",e),this._observeMutations()}toggle(){this.checked=!this.checked}destroy(){this._unobserveMutations(),this._unobserveEvents(),this._onClickListener=null,this._onKeyDownListener=null,this._onMutationListener=null}}function o(e){if(!this.disabled)switch(e.keyCode){case 32:e.preventDefault(),this.toggle();break;case 37:this.checked=!1;break;case 39:this.checked=!0}}function r(){this.disabled||this.toggle()}function l(e){for(const t of e)"attributes"===t.type&&this.el.dispatchEvent(new CustomEvent("makeup-switch-mutation",{detail:{attributeName:t.attributeName}}))}}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,s),o.exports}s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";s(2859),s(9628);var e,t=(e=s(3371))&&e.__esModule?e:{default:e};window.onload=function(){document.querySelectorAll(".switch").forEach((function(e,s){new t.default(e),e.addEventListener("makeup-switch-toggle",(function(e){console.log(e.type,e.detail)})),e.addEventListener("makeup-switch-mutation",(function(e){console.log(e.type,e.detail)}))}))}}()}();
//# sourceMappingURL=index.min.js.map